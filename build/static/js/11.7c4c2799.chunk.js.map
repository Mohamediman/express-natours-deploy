{"version":3,"sources":["components/account/SidebarSettings.js","components/account/UserAccountSettings.js","components/account/PasswordChange.js","components/account/Account.js"],"names":["SidebarSettings","className","to","connect","updateCurrentUser","structuredSelector","createStructuredSelector","user","selectAuthUser","useSelector","useState","name","email","formData","setFormData","photo","setImage","onChange","e","target","value","onSubmit","preventDefault","htmlFor","id","type","placeholder","required","src","alt","multiple","image","file","onImageUpload","onClick","setAlert","changePassword","oldPassword","password","confirmPassword","newFormData","minLength","Account","PasswordChange"],"mappings":"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","file":"static/js/11.7c4c2799.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport {\n  HiOutlineCog,\n  HiOutlineBriefcase,\n  HiOutlineStar,\n  HiCreditCard,\n  HiOutlineMap,\n  HiOutlineUsers,\n} from 'react-icons/hi';\n\nconst SidebarSettings = () => {\n  return (\n    <nav className=\"user-view__menu\">\n      <ul className=\"side-nav\">\n        <li className=\"side-nav--active\">\n          <Link to=\"#\">\n            {' '}\n            <HiOutlineCog />\n            Settings\n          </Link>\n        </li>\n        <li>\n          <Link to=\"/bookings/my-tours\">\n            <HiOutlineBriefcase />\n            My Bookings\n          </Link>\n        </li>\n        <li>\n          <Link to=\"#!\">\n            {' '}\n            <HiOutlineStar />\n            My Reviews\n          </Link>\n        </li>\n        <li>\n          <Link to=\"#!\">\n            <HiCreditCard />\n            Billing\n          </Link>\n        </li>\n      </ul>\n\n      <div className=\"admin-nav\">\n        <h5 className=\"admin-nav__heading\">Admin</h5>\n        <ul className=\"side-nav\">\n          <li>\n            <Link to=\"#!\">\n              {' '}\n              <HiOutlineMap />\n              Manage tours\n            </Link>\n          </li>\n          <li>\n            <Link to=\"#!\">\n              {' '}\n              <HiOutlineUsers />\n              Manage users\n            </Link>\n          </li>\n          <li>\n            <Link to=\"#!\">\n              <HiOutlineStar />\n              Manage reviews\n            </Link>\n          </li>\n          <li>\n            <Link to=\"#!\">\n              <HiOutlineBriefcase />\n              Manage Bookings\n            </Link>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  );\n};\n\nexport default SidebarSettings;\n","import React, { useState } from 'react';\nimport ImageUploading from 'react-images-uploading';\n\nimport { createStructuredSelector } from 'reselect';\nimport { connect, useSelector } from 'react-redux';\nimport { updateCurrentUser } from '../../redux/auth/auth.action';\nimport { selectAuthUser } from '../../redux/auth/auth.selectors';\n\nconst UserAccountSettings = ({ updateCurrentUser }) => {\n  const structuredSelector = createStructuredSelector({\n    user: selectAuthUser,\n  });\n  const { user } = useSelector(structuredSelector);\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n  });\n  const [photo, setImage] = useState('');\n  const { name, email } = formData;\n\n  const onChange = (e) =>\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  const onFileChange = (image) => {\n    setImage(image[0].file);\n  };\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    updateCurrentUser(name, email, photo);\n  };\n\n  return (\n    <div className=\"user-view__form-container\">\n      <h2 className=\"heading-secondary ma-bt-md\">Your account settings</h2>\n      <form className=\"form form-user-data\" onSubmit={(e) => onSubmit(e)}>\n        <div className=\"form__group\">\n          <label className=\"form__label\" htmlFor=\"name\">\n            Name\n          </label>\n          <input\n            className=\"form__input\"\n            id=\"name\"\n            name=\"name\"\n            type=\"text\"\n            placeholder={user.name}\n            onChange={(e) => onChange(e)}\n            required=\"required\"\n          />\n        </div>\n        <div className=\"form__group ma-bt-md\">\n          <label className=\"form__label\" htmlFor=\"email\">\n            Email address\n          </label>\n          <input\n            className=\"form__input\"\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            placeholder={user.email}\n            onChange={(e) => onChange(e)}\n            required=\"required\"\n          />\n        </div>\n        <div className=\"form__group form__photo-upload\">\n          <img\n            className=\"form__user-photo\"\n            src={`/img/users/${user.photo}`}\n            alt=\"User-profile\"\n          />\n\n          <ImageUploading multiple value={photo} onChange={onFileChange}>\n            {({ photo, onImageUpload }) => (\n              <div className=\"upload__image-wrapper\">\n                <label className=\"form__label\" onClick={onImageUpload}>\n                  Upload Image\n                </label>\n              </div>\n            )}\n          </ImageUploading>\n        </div>\n\n        <div className=\"form__group right\">\n          <button className=\"btn btn--small btn--green\">Save settings</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\n// const mapStateToProps = (state) => ({\n//   user: state.auth.user,\n// });\n\nexport default connect(null, { updateCurrentUser })(UserAccountSettings);\n","import React, { useState } from 'react';\n\nimport { connect } from 'react-redux';\nimport { setAlert } from '../../redux/alerts/setAlerts.action';\nimport { changePassword } from '../../redux/auth/auth.action';\n\nconst PasswordResset = ({ setAlert, changePassword }) => {\n  const [formData, setFormData] = useState({\n    oldPassword: '',\n    password: '',\n    confirmPassword: '',\n  });\n  const { oldPassword, password, confirmPassword } = formData;\n  const onChange = (e) =>\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (oldPassword === '') {\n      setAlert('The current password is required', 'error');\n    } else if (password !== confirmPassword) {\n      setAlert('The new passwords do not match', 'error');\n    } else {\n      const newFormData = { ...formData };\n      changePassword(newFormData);\n    }\n  };\n\n  return (\n    <div className=\"user-view__form-container\">\n      <h2 className=\"heading-secondary ma-bt-md\">Password change</h2>\n      <form className=\"form form-user-settings\" onSubmit={(e) => onSubmit(e)}>\n        <div className=\"form__group\">\n          <label className=\"form__label\" htmlFor=\"oldPassword\">\n            Current password\n          </label>\n          <input\n            className=\"form__input\"\n            name=\"oldPassword\"\n            type=\"password\"\n            placeholder=\"••••••••\"\n            onChange={(e) => onChange(e)}\n            required=\"required\"\n            minLength=\"8\"\n          />\n        </div>\n        <div className=\"form__group\">\n          <label className=\"form__label\" htmlFor=\"password\">\n            New password\n          </label>\n          <input\n            className=\"form__input\"\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"••••••••\"\n            onChange={(e) => onChange(e)}\n            required=\"required\"\n            minLength=\"8\"\n          />\n        </div>\n        <div className=\"form__group ma-bt-lg\">\n          <label className=\"form__label\" htmlFor=\"confirmPassword\">\n            Confirm password\n          </label>\n          <input\n            className=\"form__input\"\n            name=\"confirmPassword\"\n            type=\"password\"\n            placeholder=\"••••••••\"\n            onChange={(e) => onChange(e)}\n            required=\"required\"\n            minLength=\"8\"\n          />\n        </div>\n        <div className=\"form__group right\">\n          <button className=\"btn btn--small btn--green\">Save password</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default connect(null, { setAlert, changePassword })(PasswordResset);\n","import React from 'react';\n\nimport SideBarSettings from './SidebarSettings';\nimport UserAccountSettings from './UserAccountSettings';\nimport PasswordChange from './PasswordChange';\n\nconst Account = () => {\n  return (\n    <main className=\"main\">\n      <div className=\"user-view\">\n        <SideBarSettings />\n\n        <div className=\"user-view__content\">\n          <UserAccountSettings />\n\n          <div className=\"line\">&nbsp;</div>\n          <PasswordChange />\n        </div>\n      </div>\n    </main>\n  );\n};\n\nexport default Account;\n"],"sourceRoot":""}