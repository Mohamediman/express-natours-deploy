{"version":3,"sources":["components/tours/Tour.js","redux/bookings/bookings.selectors.js","components/bookings/MyBookings.js","redux/bookings/bookings.actions.js"],"names":["Tour","tour","className","src","imageCover","alt","name","difficulty","duration","summary","startLocation","description","format","startDates","locations","length","maxGroupSize","price","ratingsAverage","ratingsQuantity","to","slug","selectMybookings","createSelector","state","bookings","toursBooked","connect","tours","getAllBooking","dispatch","a","options","headers","axios","get","res","type","GET_BOOKINGS","payload","data","console","log","response","message","useEffect","map","_id"],"mappings":"kGAAA,oEA0EeA,IAjEF,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACd,OACE,sBAAKC,UAAU,OAAf,UACE,sBAAKA,UAAU,eAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,qBAAKA,UAAU,wBAAf,kBACA,qBACEC,IAAG,qBAAgBF,EAAKG,YACxBC,IAAKJ,EAAKK,KACVJ,UAAU,yBAGd,oBAAIA,UAAU,oBAAd,SACE,+BAAOD,EAAKK,YAIhB,sBAAKJ,UAAU,gBAAf,UACE,qBAAIA,UAAU,oBAAd,UACGD,EAAKM,WADR,IACqBN,EAAKO,SAD1B,eAGA,mBAAGN,UAAU,aAAb,SAA2BD,EAAKQ,UAChC,sBAAKP,UAAU,aAAf,UACE,cAAC,IAAD,CAAYA,UAAU,eACtB,+BAAOD,EAAKS,cAAcC,iBAE5B,sBAAKT,UAAU,aAAf,UACE,cAAC,IAAD,CAAeA,UAAU,eACzB,+BACE,cAAC,IAAD,CAAQU,OAAO,WAAf,SAA2BX,EAAKY,WAAW,UAG/C,sBAAKX,UAAU,aAAf,UACE,cAAC,IAAD,CAAWA,UAAU,eACrB,iCAAOD,EAAKa,UAAUC,OAAtB,eAEF,sBAAKb,UAAU,aAAf,UACE,cAAC,IAAD,CAAWA,UAAU,eACrB,iCAAOD,EAAKe,aAAZ,mBAIJ,sBAAKd,UAAU,eAAf,UACE,8BACE,uBAAMA,UAAU,qBAAhB,cAAuCD,EAAKgB,SAC5C,sBAAMf,UAAU,oBAAhB,2BAEF,oBAAGA,UAAU,gBAAb,UACE,sBAAMA,UAAU,qBAAhB,SAAsCD,EAAKiB,iBAC3C,uBAAMhB,UAAU,oBAAhB,qBACWD,EAAKkB,gBADhB,UAIF,cAAC,IAAD,CAAMC,GAAE,gBAAWnB,EAAKoB,MAAQnB,UAAU,4BAA1C,6B,6HC1DKoB,EAAmBC,aAFT,SAACC,GAAD,OAAWA,EAAMC,YAItC,SAACA,GAAD,OAAcA,EAASC,e,OCoBVC,uBAJS,SAACH,GAAD,MAAY,CAClCI,MAAON,EAAiBE,MAGc,CAAEK,cCrBb,yDAAM,WAAOC,GAAP,iBAAAC,EAAA,6DAC3BC,EAAU,CACdC,QAAS,CACP,eAAgB,qBAHa,kBAObC,IAAMC,IAAN,4BAAuCH,GAP1B,OAOzBI,EAPyB,OAS/BN,EAAS,CACPO,KAAMC,IACNC,QAASH,EAAII,KAAKZ,QAXW,gDAc/Ba,QAAQC,IAAI,qBAAsB,KAAIC,SAASH,KAAKI,SAdrB,yDAAN,wDDqBdjB,EAnBI,SAAC,GAA8B,IAA5BE,EAA2B,EAA3BA,cAAeD,EAAY,EAAZA,MAKnC,OAJAiB,qBAAU,WACRhB,MAEC,IAED,sBAAM3B,UAAU,OAAhB,SACE,qBAAKA,UAAU,iBAAf,SACG0B,GACCA,EAAMb,OAAS,GACfa,EAAMkB,KAAI,SAAC7C,GAAD,OAAU,cAACD,EAAA,EAAD,CAAqBC,KAAMA,GAAhBA,EAAK8C","file":"static/js/9.da981e60.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\n\nimport { ImLocation } from 'react-icons/im';\nimport { FaRegFlag, FaRegUser } from 'react-icons/fa';\nimport { IoIosCalendar } from 'react-icons/io';\n\nconst Tour = ({ tour }) => {\n  return (\n    <div className=\"card\">\n      <div className=\"card__header\">\n        <div className=\"card__picture\">\n          <div className=\"card__picture-overlay\">&nbsp;</div>\n          <img\n            src={`/img/tours/${tour.imageCover}`}\n            alt={tour.name}\n            className=\"card__picture-img\"\n          />\n        </div>\n        <h3 className=\"heading-tertirary\">\n          <span>{tour.name}</span>\n        </h3>\n      </div>\n\n      <div className=\"card__details\">\n        <h4 className=\"card__sub-heading\">\n          {tour.difficulty} {tour.duration}-day tour\n        </h4>\n        <p className=\"card__text\">{tour.summary}</p>\n        <div className=\"card__data\">\n          <ImLocation className=\"card__icon\" />\n          <span>{tour.startLocation.description}</span>\n        </div>\n        <div className=\"card__data\">\n          <IoIosCalendar className=\"card__icon\" />\n          <span>\n            <Moment format=\"MMM YYYY\">{tour.startDates[0]}</Moment>\n          </span>\n        </div>\n        <div className=\"card__data\">\n          <FaRegFlag className=\"card__icon\" />\n          <span>{tour.locations.length} stops</span>\n        </div>\n        <div className=\"card__data\">\n          <FaRegUser className=\"card__icon\" />\n          <span>{tour.maxGroupSize} people</span>\n        </div>\n      </div>\n\n      <div className=\"card__footer\">\n        <p>\n          <span className=\"card__footer-value\">${tour.price}</span>\n          <span className=\"card__footer-text\">per person</span>\n        </p>\n        <p className=\"card__ratings\">\n          <span className=\"card__footer-value\">{tour.ratingsAverage}</span>\n          <span className=\"card__footer-text\">\n            rating ({tour.ratingsQuantity})\n          </span>\n        </p>\n        <Link to={`/tour/${tour.slug}`} className=\"btn btn--green btn--small\">\n          Details\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nTour.propTypes = {\n  tour: PropTypes.object,\n};\n\nexport default Tour;\n","import { createSelector } from 'reselect';\n\nconst selectBookings = (state) => state.bookings;\n\nexport const selectMybookings = createSelector(\n  selectBookings,\n  (bookings) => bookings.toursBooked\n);\n","import React, { useEffect } from 'react';\nimport Tour from '../tours/Tour';\n\nimport { connect } from 'react-redux';\nimport { getAllBooking } from '../../redux/bookings/bookings.actions';\nimport { selectMybookings } from '../../redux/bookings/bookings.selectors';\n\nconst MyBookings = ({ getAllBooking, tours }) => {\n  useEffect(() => {\n    getAllBooking();\n    //eslint-disabled-next-line\n  }, []);\n  return (\n    <main className=\"main\">\n      <div className=\"card-container\">\n        {tours &&\n          tours.length > 0 &&\n          tours.map((tour) => <Tour key={tour._id} tour={tour} />)}\n      </div>\n    </main>\n  );\n};\nconst mapStateToProps = (state) => ({\n  tours: selectMybookings(state),\n});\n\nexport default connect(mapStateToProps, { getAllBooking })(MyBookings);\n","import axios from 'axios';\n\nimport { GET_BOOKINGS } from './types';\n\n//=== get my bookings\nexport const getAllBooking = () => async (dispatch) => {\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  };\n  try {\n    const res = await axios.get(`/api/v1/bookings/my-tours`, options);\n\n    dispatch({\n      type: GET_BOOKINGS,\n      payload: res.data.tours,\n    });\n  } catch (err) {\n    console.log('my bookings Error:', err.response.data.message);\n  }\n};\n"],"sourceRoot":""}