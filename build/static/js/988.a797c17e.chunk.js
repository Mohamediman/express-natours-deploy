"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[988],{2988:function(s,a,r){r.r(a),r.d(a,{default:function(){return x}});var e=r(2791),n=r(1730),c=r(364),t=r(4165),i=r(5861),o=r(4569),d=r.n(o),l=r(2984),u=(0,r(6916).P1)((function(s){return s.bookings}),(function(s){return s.toursBooked})),m=r(184),x=(0,c.$j)((function(s){return{tours:u(s)}}),{getAllBooking:function(){return function(){var s=(0,i.Z)((0,t.Z)().mark((function s(a){var r,e;return(0,t.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return r={headers:{"Content-Type":"application/json"}},s.prev=1,s.next=4,d().get("/api/v1/bookings/my-tours",r);case 4:e=s.sent,a({type:l.n,payload:e.data.tours}),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(1),console.log("my bookings Error:",s.t0.response.data.message);case 11:case"end":return s.stop()}}),s,null,[[1,8]])})));return function(a){return s.apply(this,arguments)}}()}})((function(s){var a=s.getAllBooking,r=s.tours;return(0,e.useEffect)((function(){a()}),[]),(0,m.jsx)("main",{className:"main",children:(0,m.jsx)("div",{className:"card-container",children:r&&r.length>0&&r.map((function(s){return(0,m.jsx)(n.Z,{tour:s},s._id)}))})})}))},1730:function(s,a,r){r.d(a,{Z:function(){return m}});r(2791);var e=r(184),n=function(s){var a=s.tour;return(0,e.jsxs)("div",{className:"card__footer",children:[(0,e.jsxs)("p",{children:[(0,e.jsxs)("span",{className:"card__footer-value",children:["$",a.price]}),(0,e.jsx)("span",{className:"card__footer-text",children:"per person"})]}),(0,e.jsxs)("p",{className:"card__ratings",children:[(0,e.jsx)("span",{className:"card__footer-value",children:a.ratingsAverage}),(0,e.jsxs)("span",{className:"card__footer-text",children:["rating (",a.ratingsQuantity,")"]})]}),(0,e.jsx)("a",{href:"/tour/".concat(a.slug),className:"btn btn--green btn--small",children:"Details"})]})},c=r(6431),t=r.n(c),i=r(828),o=r(6355),d=r(4373),l=function(s){var a=s.tour;return(0,e.jsxs)("div",{className:"card__details",children:[(0,e.jsxs)("h4",{className:"card__sub-heading",children:[a.difficulty," ",a.duration,"-day tour"]}),(0,e.jsx)("p",{className:"card__text",children:a.summary}),(0,e.jsxs)("div",{className:"card__data",children:[(0,e.jsx)(i.opg,{className:"card__icon"}),(0,e.jsx)("span",{children:a.startLocation.description})]}),(0,e.jsxs)("div",{className:"card__data",children:[(0,e.jsx)(d.B6n,{className:"card__icon"}),(0,e.jsx)("span",{children:(0,e.jsx)(t(),{format:"MMM YYYY",children:a.startDates[0]})})]}),(0,e.jsxs)("div",{className:"card__data",children:[(0,e.jsx)(o.A5b,{className:"card__icon"}),(0,e.jsxs)("span",{children:[a.locations.length," stops"]})]}),(0,e.jsxs)("div",{className:"card__data",children:[(0,e.jsx)(o.BKo,{className:"card__icon"}),(0,e.jsxs)("span",{children:[a.maxGroupSize," people"]})]})]})},u=function(s){var a=s.tour;return(0,e.jsxs)("div",{className:"card__header",children:[(0,e.jsxs)("div",{className:"card__picture",children:[(0,e.jsx)("div",{className:"card__picture-overlay",children:"\xa0"}),(0,e.jsx)("img",{src:"/img/tours/".concat(a.imageCover),alt:a.name,className:"card__picture-img"})]}),(0,e.jsx)("h3",{className:"heading-tertirary",children:(0,e.jsx)("span",{children:a.name})})]})},m=function(s){var a=s.tour;return(0,e.jsxs)("div",{className:"card",children:[(0,e.jsx)(u,{tour:a}),(0,e.jsx)(l,{tour:a}),(0,e.jsx)(n,{tour:a})]})}}}]);
//# sourceMappingURL=988.a797c17e.chunk.js.map