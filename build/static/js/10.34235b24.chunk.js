(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[10],{109:function(e,s,c){"use strict";c.d(s,"b",(function(){return i})),c.d(s,"a",(function(){return r})),c.d(s,"c",(function(){return n}));var t=c(28),a=function(e){return e.tours},i=Object(t.a)(a,(function(e){return e.tours})),r=Object(t.a)(a,(function(e){return e.tour})),n=Object(t.a)(a,(function(e){return e.loading}))},129:function(e,s,c){"use strict";c.r(s);var t=c(0),a=c(98),i=c(104),r=c(1),n=function(e){var s=e.tour;return Object(r.jsxs)("section",{className:"section-header",children:[Object(r.jsxs)("div",{className:"header__hero",children:[Object(r.jsx)("div",{className:"header__hero-overlay",children:"\xa0 "}),Object(r.jsx)("img",{src:"/img/tours/".concat(s.imageCover),alt:s.name,className:"header__hero-img"})]}),Object(r.jsxs)("div",{className:"heading-box",children:[Object(r.jsx)("h1",{className:"heading-primary",children:Object(r.jsxs)("span",{children:[s&&s.name.split(" ").splice(0,2).join(" "),Object(r.jsx)("br",{}),s&&s.name.split(" ").splice(2).join("")]})}),Object(r.jsxs)("div",{className:"heading-box__group",children:[Object(r.jsxs)("div",{className:"heading-box__detail",children:[Object(r.jsx)(i.a,{className:"heading-box__icon"}),Object(r.jsxs)("span",{className:"heading-box__text",children:[s&&s.duration," days"]})]}),Object(r.jsxs)("div",{className:"heading-box__detail",children:[Object(r.jsx)(i.b,{className:"heading-box__icon"}),Object(r.jsxs)("span",{className:"heading-box__text",children:[" ",s&&s.startLocation.description]})]})]})]})]})},o=function(e){var s=e.tour;return Object(r.jsxs)("div",{className:"description-box",children:[Object(r.jsxs)("h2",{className:"heading-secondary ma-bt-lg",children:["About ",s.name," "]}),Object(r.jsx)("p",{className:"description__text",children:s.description&&s.description.split(".").splice(0,2)}),Object(r.jsx)("p",{className:"description__text",children:s.description&&s.description.split(".").splice(2)})]})},j=c(107),l=c.n(j),b=function(e){var s=e.guide;return Object(r.jsxs)("div",{className:"overview-box__detail",children:[Object(r.jsx)("img",{src:"/img/users/".concat(s.photo),alt:s.role,className:"overview-box__img"}),Object(r.jsx)("span",{className:"overview-box__label",children:s.role}),Object(r.jsx)("span",{className:"overview-box__text",children:s.name})]})},d=c(105),x=c(108),m=function(e){var s=e.tour;return Object(r.jsx)("div",{className:"overview-box",children:Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"overview-box__group",children:[Object(r.jsx)("h2",{className:"heading-secondary ma-bt-lg",children:"Quick facts"}),Object(r.jsxs)("div",{className:"overview-box__detail",children:[Object(r.jsx)(d.a,{className:"overview-box__icon"}),Object(r.jsx)("span",{className:"overview-box__label",children:"Next date"}),Object(r.jsx)("span",{className:"overview-box__text",children:Object(r.jsx)(l.a,{format:"MMM YYYY",children:s.startDates[0]})})]}),Object(r.jsxs)("div",{className:"overview-box__detail",children:[Object(r.jsx)(d.c,{className:"overview-box__icon"}),Object(r.jsx)("span",{className:"overview-box__label",children:"Difficulty"}),Object(r.jsx)("span",{className:"overview-box__text",children:s.difficulty})]}),Object(r.jsxs)("div",{className:"overview-box__detail",children:[Object(r.jsx)(x.b,{className:"overview-box__icon"}),Object(r.jsx)("span",{className:"overview-box__label",children:"Participants"}),Object(r.jsxs)("span",{className:"overview-box__text",children:[s.maxGroupSize," people"]})]}),Object(r.jsxs)("div",{className:"overview-box__detail",children:[Object(r.jsx)(d.b,{className:"overview-box__icon"}),Object(r.jsx)("span",{className:"overview-box__label",children:"Rating"}),Object(r.jsxs)("span",{className:"overview-box__text",children:[s.ratingsAverage," / 5"]})]})]}),Object(r.jsxs)("div",{className:"overview-box__group",children:[Object(r.jsx)("h2",{className:"heading-secondary ma-bt-lg",children:"Your tour guides"}),s.guides.map((function(e){return Object(r.jsx)(b,{guide:e},e._id)}))]})]})})},u=function(e){var s=e.review;return Object(r.jsxs)("div",{className:"reviews__card",children:[Object(r.jsxs)("div",{className:"reviews__avatar",children:[Object(r.jsx)("img",{src:"/img/users/".concat(s.user.photo),alt:s.user.name,className:"reviews__avatar-img"}),Object(r.jsx)("h6",{className:"reviews__user",children:s.user.name})]}),Object(r.jsx)("p",{className:"reviews__text",children:s.review}),Object(r.jsxs)("div",{className:"reviews__rating",children:[Object(r.jsx)(d.b,{className:"reviews__star ".concat(s.rating>=1&&"reviews__star--active"," ")}),Object(r.jsx)(d.b,{className:"reviews__star ".concat(s.rating>=2&&"reviews__star--active"," ")}),Object(r.jsx)(d.b,{className:"reviews__star ".concat(s.rating>=3&&"reviews__star--active"," ")}),Object(r.jsx)(d.b,{className:"reviews__star ".concat(s.rating>=4&&"reviews__star--active"," ")}),Object(r.jsx)(d.b,{className:"reviews__star ".concat(s.rating>=5&&"reviews__star--active"," ")})]})]})},v=function(e){var s=e.image;return Object(r.jsx)("div",{className:"picture-box",children:Object(r.jsx)("img",{className:"picture-box__img picture-box__img--1",src:"/img/tours/".concat(s),alt:s})})},_=c(3),O=c(100),h=c(125),g=function(e){var s=e.tour;s&&(Number(s.locations[0].coordinates[0]),Number(s.locations[0].coordinates[1]));var c=Object(t.useState)({latitude:34.011646,longitude:-116.107963,zoom:5}),a=Object(O.a)(c,2),i=a[0],n=a[1];return s&&s.locations?Object(r.jsx)(h.b,Object(_.a)(Object(_.a)({mapStyle:"mapbox://styles/mohamedai/ckskl74tv0ell17rk4x53odnj",mapboxApiAccessToken:"pk.eyJ1IjoibW9oYW1lZGFpIiwiYSI6ImNrc2tqNHFqYTJvN2wybm9hdnJreTdvaTMifQ.WLNcgVIG5MDN9gxqQ88a8A"},i),{},{width:"100%",height:"100%",scrollZoom:!1,onViewportChange:function(e){return n(e)},children:s.locations.map((function(e){var s=Number(e.coordinates[0]),c=Number(e.coordinates[1]);return Object(r.jsx)(h.a,{latitude:c,longitude:s,offsetLeft:-20,offsetTop:-10,children:Object(r.jsx)("div",{className:"marker"},s*c)})}))})):Object(r.jsx)(t.Fragment,{children:Object(r.jsx)("h1",{children:"No Tour found"})})},N=c(30),p=c(55),w=c(28),f=c(10),y=c(36),k=c(20),T=c(109);s.default=Object(f.b)(null,{bookTour:y.a,getTour:y.c})((function(e){var s=e.match,c=e.bookTour,i=e.getTour,j=Object(w.b)({tour:T.a,loading:T.c,user:k.a}),l=Object(f.c)(j),b=l.tour,d=(l.loading,l.user);return Object(t.useEffect)((function(){i(s.params.slug)}),[]),Object(r.jsxs)(t.Fragment,{children:[b?Object(r.jsx)(n,{tour:b}):Object(r.jsx)(N.a,{}),Object(r.jsxs)("section",{className:"section-description",children:[b?Object(r.jsx)(m,{tour:b}):Object(r.jsx)(N.a,{}),b?Object(r.jsx)(o,{tour:b}):Object(r.jsx)(N.a,{})]}),Object(r.jsx)("section",{className:"section-pictures",children:b&&b.images.length>0?b.images.map((function(e){var s=Object(a.a)();return Object(r.jsx)(v,{image:e},s)})):Object(r.jsx)(N.a,{})}),b?Object(r.jsxs)("section",{className:"section-map",children:[Object(r.jsx)("div",{id:"map"}),Object(r.jsx)(g,{tour:b})]}):Object(r.jsx)(N.a,{}),Object(r.jsx)("section",{className:"section-reviews",children:Object(r.jsx)("div",{className:"reviews",children:b&&b.reviews.length>0?b.reviews.map((function(e){return Object(r.jsx)(u,{review:e},e._id)})):Object(r.jsx)(N.a,{})})}),Object(r.jsx)("section",{className:"section-cta",children:b?Object(r.jsxs)("div",{className:"cta",children:[Object(r.jsx)("div",{className:"cta__img cta__img--logo",children:Object(r.jsx)("img",{src:p.a,alt:"Natours logo"})}),Object(r.jsx)("img",{src:"/img/tours/tour-5-2.jpg",alt:"natours",className:"cta__img cta__img--1"}),Object(r.jsx)("img",{src:"/img/tours/tour-5-1.jpg",alt:"natours images",className:"cta__img cta__img--2"}),Object(r.jsxs)("div",{className:"cta__content",children:[Object(r.jsx)("h2",{className:"heading-secondary",children:"What are you waiting for?"}),Object(r.jsxs)("p",{className:"cta__text",children:[b&&b.duration," days. 1 adventure. Infinite memories. Make it yours today!"]}),d?Object(r.jsx)("button",{className:"btn btn--green span-all-rows",onClick:function(e){return c(b.id)},children:"Book tour now!"}):Object(r.jsx)("a",{href:"/login",className:"btn btn--green span-all-rows",children:"Login to Book tour"})]})]}):Object(r.jsx)(N.a,{})})]})}))}}]);
//# sourceMappingURL=10.34235b24.chunk.js.map